google.charts.load('current', {packages: ['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {
    var data = google.visualization.arrayToDataTable([
        ['Date', 'Reg', { role: 'annotation' }, 'PS', { role: 'annotation' }, 'PS/Reg', { role: 'annotation' }],
        ['1', 108, '108', 31, '31', 0.2870 * 80, '28.70%'],
        ['2', 205, '205', 66, '66', 0.3210 * 80, '32.10%'],
        ['3', 163, '163', 74, '74', 0.4534 * 80, '45.34%'],
        ['4', 160, '160', 78, '78', 0.4875 * 80, '48.75%'],
        ['5', 135, '135', 77, '77', 0.5704 * 80, '57.04%'],
        ['6', 232, '232', 86, '86', 0.3707 * 80, '37.07%'],
        ['7', 204, '204', 90, '90', 0.4412 * 80, '44.12%'],
        ['8', 163, '163', 119, '119', 0.7301 * 80, '73.01%'],
        ['9', 116, '116', 118, '118', 1.0172 * 80, '101.72%'],
        ['10', 142, '142', 88, '88', 0.6197 * 80, '61.97%'],
        ['11', 106, '106', 96, '96', 0.9057 * 80, '90.57%'],
        ['12', 92, '92', 66, '66', 0.7174 * 80, '71.74%'],
        ['13', 124, '124', 81, '81', 0.6532 * 80, '65.32%'],
        ['14', 113, '113', 58, '58', 0.5133 * 80, '51.33%'],
        ['15', 142, '142', 98, '98', 0.6901 * 80, '69.01%'],
        ['16', 150, '150', 104, '104', 0.6933 * 80, '69.33%'],
        ['17', 126, '126', 109, '109', 0.8651 * 80, '86.51%'],
        ['18', 113, '113', 95, '95', 0.8407 * 80, '84.07%'],
        ['19', 103, '103', 88, '88', 0.8544 * 80, '85.44%'],
        ['20', 201, '201', 111, '111', 0.5522 * 80, '55.22%'],
        ['21', 182, '182', 95, '95', 0.5220 * 80, '52.20%'],
        ['22', 174, '174', 95, '95', 0.5460 * 80, '54.60%'],
        ['23', 186, '186', 113, '113', 0.6075 * 80, '60.75%'],
        ['24', 180, '180', 91, '91', 0.5056 * 80, '50.56%'],
        ['25', 181, '181', 109, '109', 0.6022 * 80, '60.22%'],
        ['26', 120, '120', 54, '54', 0.4500 * 80, '45.00%'],
        ['27', 173, '173', 102, '102', 0.5890 * 80, '58.90%'],
        ['28', 216, '216', 94, '94', 0.4352 * 80, '43.52%'],
        ['29', 183, '183', 87, '87', 0.4754 * 80, '47.54%'],
        ['30', 143, '143', 87, '87', 0.6084 * 80, '60.84%'],
        ['31', 181, '181', 70, '70', 0.3867 * 80, '38.67%']
    ]);

    var options = {
        title: 'Performance by Date',
        hAxis: {
            title: 'Date',
            slantedText: true,
            slantedTextAngle: 45
        },
        vAxis: {
            title: 'Jumlah'
        },
        seriesType: 'bars',
        series: {
            2: {
                type: 'line',
                lineWidth: 3,
                pointSize: 8,
                color: '#3498db'
            }
        },
        annotations: {
            alwaysOutside: true,
            textStyle: {
                fontSize: 12,
                color: '#000',
                bold: true
            }
        },
        legend: { position: 'bottom' },
        colors: ['#e67e22', '#1a237e'],
        chartArea: {
            left: '10%',
            top: '10%',
            width: '85%',
            height: '70%'
        }
    };

    var chart = new google.visualization.ComboChart(document.getElementById('chart_div'));
    chart.draw(data, options);
}

window.addEventListener('resize', drawChart);
