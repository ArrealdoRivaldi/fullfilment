<!-- Header Partial: Konsisten untuk semua halaman -->
<header>
  <!-- Header Mobile Responsive -->
  <div class="block lg:hidden">
    <div class="flex items-center justify-between px-4 py-2 bg-white shadow">
      <a class="logo" href="/">
        <img src="/images/icon/logo.png" alt="FBB" class="h-8">
      </a>
      <button id="mobileMenuBtn" class="text-2xl focus:outline-none">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    <!-- Overlay & Menu -->
    <div id="mobileMenuOverlay" class="fixed inset-0 bg-black bg-opacity-40 z-40 hidden"></div>
    <nav id="mobileMenu" class="fixed top-0 left-0 w-64 h-full bg-white z-50 transform -translate-x-full transition-transform duration-300">
      <div class="p-4 border-b flex items-center justify-between">
        <span class="font-bold text-lg">Menu</span>
        <button id="closeMobileMenu" class="text-xl"><i class="fas fa-times"></i></button>
      </div>
      <ul class="mt-4 space-y-2">
        <li>
          <a href="#" class="flex items-center px-4 py-2 hover:bg-gray-100"><i class="fas fa-house-user mr-2"></i> House Keeping</a>
          <ul class="ml-6 mt-1 space-y-1">
            <li><a href="/" class="flex items-center px-2 py-1 hover:bg-gray-100"><i class="fas fa-tachometer-alt mr-2"></i> Dashboard</a></li>
            <li><a href="/hk/" class="flex items-center px-2 py-1 hover:bg-gray-100"><i class="fas fa-tools mr-2"></i> Tool House Keeping</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
  <!-- Sidebar Desktop -->
  <aside class="menu-sidebar d-none d-lg-block">
    <div class="logo">
      <a href="/">
        <img src="/images/icon/logo.png" alt="FBB">
      </a>
    </div>
    <div class="menu-sidebar__content js-scrollbar1">
      <nav class="navbar-sidebar">
        <ul class="list-unstyled navbar__list">
          <li class="has-sub">
            <a class="js-arrow" href="#"><i class="fas fa-house-user"></i>House Keeping</a>
            <ul class="list-unstyled navbar__sub-list js-sub-list">
              <li class="active has-sub">
                <a class="js-arrow" href="/"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
              </li>
              <li>
                <a class="js-arrow" href="/hk/"><i class="fas fa-tools"></i> Tool House Keeping</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
  </aside>
</header>
<script>
// Mobile menu logic (agar tetap berfungsi di semua halaman)
(function(){
  const mobileMenuBtn = document.getElementById('mobileMenuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
  const closeMobileMenu = document.getElementById('closeMobileMenu');
  function openMenu() {
    mobileMenu.classList.remove('-translate-x-full');
    mobileMenuOverlay.classList.remove('hidden');
  }
  function closeMenu() {
    mobileMenu.classList.add('-translate-x-full');
    mobileMenuOverlay.classList.add('hidden');
  }
  if(mobileMenuBtn) mobileMenuBtn.addEventListener('click', openMenu);
  if(closeMobileMenu) closeMobileMenu.addEventListener('click', closeMenu);
  if(mobileMenuOverlay) mobileMenuOverlay.addEventListener('click', closeMenu);
})();

// Menu active logic (sidebar & mobile)
(function(){
  // Helper: cocokkan path dengan href (support trailing slash)
  function isActive(href) {
    if (!href || href === '#') return false;
    const path = window.location.pathname.replace(/\/index\.html$/, '/');
    if(href === '/') return path === '/';
    return path.startsWith(href);
  }
  // Sidebar desktop: hanya submenu yang dapat class active
  document.querySelectorAll('.menu-sidebar .navbar__sub-list a.js-arrow').forEach(function(link){
    if(isActive(link.getAttribute('href'))){
      link.classList.add('active');
      const li = link.closest('li');
      if(li) li.classList.add('active');
      // Expand parent menu
      const parent = link.closest('.has-sub');
      if(parent) parent.classList.add('open');
    }
  });
  // Mobile menu
  document.querySelectorAll('#mobileMenu a').forEach(function(link){
    if(isActive(link.getAttribute('href'))){
      link.classList.add('bg-blue-100','font-bold');
    }
  });
})();
</script> 